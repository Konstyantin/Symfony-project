{% macro category_macros(categories) %}
    <ul class="dropdown-menu dropdown-menu-item">
        {% for category in categories %}
            <li class="dropdown-submenu menu-item">
                <a class="submenu" href="{{ path('category_offers_list', {'category': category.slug}) }}">{{ category.name }}</a>
                {% if category.children|length > 0 %}
                    {{ _self.category_macros(category.children) }}
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endmacro %}